# Open Realty Language
*Основана на [YRL](http://help.yandex.ru/webmaster/realty/requirements.xml) (Yandex Realty Language).*

> В спецификации YRL Яндекса не учтены многие параметры недвижимости, которые критичны для риэлтеров и агентств недвижимости. Также в спецификации отсутсвует описание таких типов объектов как коммерческая недвижимость, дачи, гаражи.

> Эта спецификация призвана восполнить этот пробел и претендует на открытый единый формат обмена данными по недвижимости. PR-ы и Issues приветствуются.

> Новые параметры и объекты, расширяющие спецификацию YRL будут обозначаться значком `new`


## Общие требования к фиду

Фид должен быть составлен на языке OREL (Open Realty Language), основанном на XML. Все поддерживаемые элементы языка OREL описаны ниже, в подразделе [Описание формата фида]().

Общие технические требования к наполнению фида:

* В фиде должны передаваться все актуальные объявления, доступные на сайте.
* Для каждого объявления следует передавать максимальный набор параметров.
* В текстах объявлений и в описании характеристик объектов не должно быть HTML-кода.
* Если для объявления есть несколько значений одного параметра (например, несколько фото), то нужно передавать несколько одинаковых тегов.
* Стоимость предложения следует передавать только в той валюте, которую указал владелец объявления.
* В фиде надо передавать только те параметры, которые ввел податель объявления. Например, если ваш сайт автоматически вычисляет географические координаты недвижимости или время до метро, вычисленные параметры в передавать не следует.
* Если податель объявления не указал какого-либо параметра, то соответствующий тег передавать не следует.
* Если в объявлении сообщается о продаже или аренде только части дома, в фиде объявление должно быть помечено соответствующим значением в поле category.
* Если объект является новостройкой, объявление в фиде должно быть помечено соответствующим значением (в поле new-flat).

## Язык описания недвижимости

Фид с объявлениями для экспорта в сторонний сервис должен быть составлен на языке OREL (Open Realty Language), разработанном сообществом. OREL основан на стандарте XML (Extensible Markup Language).

Как и XML, OREL не позволяет использовать первые 32 ASCII-символа в текстовых полях (исключения — табуляция, перевод строки, возврат каретки). Также стандарт строго требует кодировать в тексте следующие символы:

Символ в тексте | Код для OREL-файла
--------------- | ------------------
"               | `&quot;`
&               | `&amp;`
>               | `&gt;`
<               | `&lt;`
'               | `&apos;`

### Формат даты
Все даты и время следует указывать согласно стандарту ISO 8601. В общем случае дата и время по этому стандарту следует указывать в формате YYYY-MM-DDTHH:mm:ss+00:00, где

 * YYYY — год;
 * MM — месяц;
 * DD — день;
 * HH — час;
 * mm — минута;
 * ss — секунда;
 * +00:00 — указание часового пояса (для Москвы — +04:00).

### Кодировка
Файл фида должен быть создан в кодировке UTF-8.

## Описание формата фида

### Заголовок документа
YRL-документ должен начинаться (с нулевого символа первой строки) со стандартного XML-заголовка.

```xml
<?xml version="1.0" encoding="utf-8"?>
```
### Корневой элемент
```xml
<realty-feed xmlns="https://github.com/pavlik/orel/">
  <generation-date>2015-03-14T16:36:00+04:00</generation-date>
  <offer>
    ...
  </offer>
  ...
</realty-feed>
```

Корневой элемент OREL-фида *— realty-feed —* должен содержать элемент *generation-date* с датой создания фида и элементы *offer*, в каждом из которых должна находиться информация из одного объявления. Атрибут xmlns="https://github.com/pavlik/orel/" необходим, чтобы указать пространство имен в XML.

Ниже описаны все возможные элементы фида, сгруппированные по их назначению в языке OREL. Также приведен исчерпывающий пример корректно составленного фида.


## Общая информация об объявлении

У элемента *offer* есть обязательный атрибут *internal-id*, который должен быть уникальным для каждого объявления. Этот атрибут можно заполнять, например, идентификатором объявления в вашей базе данных.

```xml
<offer internal-id="1245">
 ...
```

Элементы с пометкой «строго ограниченные значения», должны содержать только значения из приведенного набора. Использование других значений приведет к ошибке обработки фида.

Элементы               | Описание
---------------------- | ----------------------
`new` type*            | Тип сделки («продажа», «аренда»). Объект может быть выставлен одновременно и на продажу и на аренду. Тогда тэг type повторяется 2 раза. <type><item>продажа</item><item>аренда</item></type>
property-type*         | Тип недвижимости (рекомендуемое значение — «жилая», «коммерческая»).
category*              | Категория объекта (квартира, комната, дом (коттедж), часть дома, таунхаус, земельный участок, офис, склад, производственное помещение, торговое помещение, ПСН, помещение под услуги, помещение под банк, готовый бизнес, помещение под клуб, помещение под кафе, гараж). 
url*                   | URL страницы с объявлением.
creation-date*         | Дата создания объявления (в формате YYYY-MM-DDTHH:mm:ss+00:00).
last-update-date       | Дата последнего обновления объявления (в формате YYYY-MM-DDTHH:mm:ss+00:00).
expire-date            | Дата и время, до которых объявление актуально (в формате YYYY-MM-DDTHH:mm:ss+00:00).
payed-adv              | Признак оплаченного объявления (только для досок объявлений). Строго ограниченные значения: «да» или «нет»; «true» или «false»; «1» или «0»; «+» или «-».			
manually-added         | Признак объявления, добавленного вручную (только для досок объявлений). Строго ограниченные значения: «да» или «нет»; «true» или «false»; «1» или «0»; «+» или «-».
location*              | Набор элементов, описывающих местоположение объекта.
country*               | Страна, в которой расположен объект.
region                 | Регион указанной страны (необязательно для Москвы и Санкт-Петербурга). Для России — название субъекта РФ. Для Белорусии и Казахстана — название области. Для Украины — название области или автономной республики, если объект находится в Крыму.
district               | Район указанного региона. Для России — название района субъекта РФ. Для Украины, Белорусии и Казахстана — название района области.
locality-name	         | Название населенного пункта.
sub-locality-name      | Район населенного пункта.
non-admin-sub-locality | Неадминистративный район города или ориентир (список городов, для которых поддерживается этот параметр, уточняйте по адресу info@realty.yandex.ru).
address                | Улица и номер дома.
direction              | Шоссе (только для Москвы).
distance               | Расстояние по шоссе до МКАД (указывается в километрах).
latitude               | Географическая широта.
longitude              | Географическая долгота.
metro                  | Ближайшая станция метро (если таковых несколько, каждая должна быть указана в отдельном элементе).
name                   | Название станции метро.
time-on-transport      | Время до метро в минутах на транспорте.
time-on-foot           | Время до метро в минутах пешком.
railway-station        | Ближайшая ж/д станция (для загородной недвижимости).
`new` beach-distance   | Расстояние до пляжа (указывается в киллометрах)

В зависимости от типа недвижимости (городская или загородная) обязательны разные параметры, описывающие адрес.

Для городской недвижимости обязательны следующие параметры:

* district (обязателен для городов, находящихся в областях субъектов РФ);
* locality-name (название населенного пункта);
* address (улица или улица и дом) или metro и time-on-foot (метро и время ходьбы до него).

Для загородной недвижимости обязательны следующие поля:

* district (район субъекта РФ) 
* или locality- name (название населенного пункта) 
* или direction (шоссе — для Москвы) 
* или railway-station (ближайшая ж/д станция).

**Пример заполнения использования тегов <region>, <district> и <sub-locality-name> при описании адреса**

```xml
<location>
    <country>Россия</country>
    <region>Московская область</region>
    <district>Одинцовский район</district>
    <locality-name>Одинцово</locality-name>
        <sub-locality-name>Центральный</sub-locality-name>
        <non-admin-sub-locality>Центр</non-admin-sub-locality>
    <address>Пушкинская ул., д. 12</address>
    <direction>Минское шоссе</direction>
</location>
```

**Пример использования тега <metro> при описании городской недвижимости**

```xml
<location>
       <country>Россия</country>
       <locality-name>Санкт-Петербург</locality-name>
       <sub-locality-name>Адмиралтейский</sub-locality-name>
       <address>Измайловский пр., 16</address>
       <metro>
          <name>Технологический институт</name>
          <time-on-foot>10</time-on-foot>
          <time-on-transport>5</time-on-transport>
       </metro>
</location>
```

**Пример использования тегов <direction> и <distance> при описании загородной недвижимости (для Москвы)**

```xml
<location>
       <country>Россия</country>
       <region>Московская область</region>
       <district>Истринский район</district>
       <locality-name>деревня Подушкино</locality-name>
       <direction>Рублево-Успенское шоссе</direction>
       <distance>10</distance>
</location>
```

## Информация о продавце или арендодателе

Элементы     | Описание
------------ | ------------
sales-agent* | Информация о продавце или арендодателе.
name         |	Имя продавца/арендодателя или агента.
phone*       | Контактный номер телефона. Если номеров несколько, каждый из них необходимо передавать в отдельном элементе phone. **Внимание!** Для агентств недвижимости обязательно должны быть указаны прямые телефоны агентов.
category     | Тип продавца или арендодателя (строго ограниченные значения — «владелец», «агентство», «застройщик», «owner», «agency», «developer»).
organization | Название агентства.
agency-id    | Внутренний ID агентства в базе партнера (только для досок объявлений).
url          | Сайт агентства.
email        | Электронный адрес продавца.
photo        | Ссылка на фотографию агента или логотип компании.
partner      | Название партнера, предоставившего объявление (только для досок объявлений).

## Информация об условиях сделки

Элементы  | Описание
--------- | --------
price*    | Информация о стоимости.
value*    | Цена (сумма указывается без пробелов).
currency* | Валюта, в которой указана цена. Поддерживаемые значения: «RUR» или «RUB» — российский рубль; «EUR» — евро; «USD» — американский доллар; «UAH» — украинская гривна; «BYR» — белорусский рубль; «KZT» — казахский тенге.
period	  | Единица времени для длительности аренды. Рекомендуемые значения: «день» или «day»; «месяц» или «month».
unit      | Единица площади помещения. Рекомендуемые значения: «кв. м», «гектар», «cотка», «sq.m», «hectare»

**Пример передачи данных о стоимости квартиры:**

```xml
<price>
    <value>4000000</value>
       <currency>RUR</currency>
</price>
```

**Пример передачи данных о стоимости 1 кв.м.:**

```xml
<price>
       <value>60000</value>
       <currency>RUB</currency>
       <unit>кв.м</unit>
</price>
```

**Пример передачи данных о стоимости аренды объекта недвижимости сроком на 1 месяц:**

```xml
<price>
    <value>700</value>
    <currency>USD</currency>
    <period>месяц</period>
</price>
```

Элементы       | Описание
-------------- | -------------- 
not-for-agents | Просьба агентам не звонить (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
haggle         | Торг (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
mortgage       | Ипотека (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0»).
prepayment     | Предоплата (указывается числовое значение в процентах без знака %).
rent-pledge    | Залог (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
agent-fee      | Комиссия агента (указывается числовое значение в процентах без знака %).
deal-status    | Возможные значения: «прямая продажа», «встречная продажа», «размен», «214 ФЗ», «переуступка».
with-pets      | Для аренды: можно ли с животными (строго ограниченные значения — «да»/ «нет», «true»/«false», «1»/«0», «+»/«-»).
with-children  | Для аренды: можно ли с детьми (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).


## Информация об объекте

Элементы      | Описание
------------- | -------------
image         | Фотография (может быть несколько тегов).
renovation    | Ремонт (рекомендуемые значения — «евро», «дизайнерский», «черновая отделка», «чистовая отделка», «требует ремонта», «частичный ремонт», «с отделкой», «хороший»).
quality       |	Состояние объекта (рекомендуемые значения — «хорошее», «отличное», «нормальное», «плохое»).
description   | Дополнительная информация (описание в свободной форме, оставленное подателем объявления).
area*         | Общая площадь.
living-space  | Жилая площадь (при продаже комнаты — площадь комнаты).
room-space    | Площадь комнаты (может быть несколько тегов).
kitchen-space |	Площадь кухни.
value         | Площадь (числовое значение).
unit          | Единица площади (рекомендуемые значения — «кв. м», «sq.m»).

**Пример передачи данных о площадях объекта недвижимости**

```xml
<area>
    <value>56</value>
    <unit>кв.м</unit>
</area>
<living-space>
    <value>36</value>
    <unit>кв.м</unit>
</living-space>
<room-space>
    <value>20</value>   
    <unit>кв.м</unit> 
</room-space>
<room-space>
    <value>16</value>   
    <unit>кв.м</unit> 
</room-space>
<kitchen-space>
    <value>8</value>
    <unit>кв.м</unit>
</kitchen-space>
```

lot-area | Площадь участка в случае предложения «дом с участком» или «участок».
-------- | -------

**Пример передачи данных о площади участка**

```xml
<lot-area>
    <value>15</value>
    <unit>сот</unit>
</lot-area>
```

lot-type | Тип участка (рекомендуемые значения — «ИЖC», «садоводство»).
-------- | -------


## Описание жилого помещения

Элементы          | Описание
----------------- | -----------------
new-flat          | Устанавливается, если квартира продается в новостройке (строго ограниченные значения — «да», «true», «1», «+»).
`new` malosemeika | Устанавливается, если квартира является малосемейкой (строго ограниченные значения — «да», «true», «1», «+»).
rooms*            | Общее количество комнат в квартире.
rooms-offered*    | Для продажи и аренды комнат: количество комнат, участвующих в сделке.
open-plan         | Свободная планировка (строго ограниченные значения — «да», «true», «1», «+»).
rooms-type        | Тип комнат (рекомендуемые значения — «смежные», «раздельные»).
phone             | Наличие телефона (строго ограниченные значения — «да»/ «нет», «true»/ «false», «1»/ «0», «+»/ «-»).
internet          | Наличие интернета (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
room-furniture    | Наличие мебели (строго ограниченные значения — «да»/ «нет», «true»/«false», «1»/ «0», «+»/«-»).
kitchen-furniture | Наличие мебели на кухне (строго ограниченные значения — «да»/«нет», « true»/«false», «1»/«0», «+»/«-»).
television        | Наличие телевизора (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/ «-»).
washing-machine   | Наличие стиральной машины (строго ограниченные значения — «да»/«нет», « true»/ «false», «1»/ «0», «+»/ «-»).
refrigerator      | Наличие холодильника (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` balcony     | Количество балконов (рекомендуемые значения — 1, 2, 3, 4...).
`new` loggia      | Количество лоджий (рекомендуемые значения — 1, 2, 3, 4...).
bathroom-unit     |	Тип санузла (рекомендуемые значения — «совмещенный», «раздельный», «2»).
floor-covering    | Покрытие пола (рекомендуемые значения — «паркет», «ламинат», «ковролин», «линолеум»).
window-view       | Вид из окон (рекомендуемые значения — «во двор», «на улицу»). Если оба варианта то в формате <window-view><item>во двор</item><item>на улицу</item></window-view>.
floor             | Этаж.

## Описание здания

Элементы                    | Описание
--------------------------- | -----------------
floors-total	              | Общее количество этажей в доме.
`new` entrances-total       | Общее количество подъездов в доме (допустимые значения - 1, 2, 3 ...)
building-name	              | Название жилого комплекса (обязательное поле для новостроек).
building-type	              | Тип дома (рекомендуемые значения — «кирпичный», «монолит», «панельный»).
building-series             | Серия дома.
building-phase              | Очередь строительства («очередь 1», «II очередь», «3», ...).
building-section	          | Секция дома («копус 1», «корпус А», «дом 3»).
building-state              | Стадия строительства дома (для новостроек). Строго ограниченные значения: «unfinished» — строится; «built» — дом построен, но не сдан; «hand-over» — сдан в эксплуатацию.
built-year                  | Год постройки. Для новостроек — год сдачи (год необходимо указывать полностью, например, 1996, а не 96).
ready-quarter               | Для новостроек — квартал сдачи дома (строго ограниченные значения — «1», «2», «3», «4»).
`new` building-walls        | Отделка наружных стен (рекомендуемые значения - алюкобонд, белый кирпич, вентилируемый фасад "Краспан", дагестанский камень, желтый кирпич, керамогранит, Короед, красный кирпич, розовый кирпич, сайдинг, фасадная плитка, штукатурка декоративная, штукатурка обычная, шуба).
lift                        | Наличие лифта (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
rubbish-chute               |	Наличие мусоропровода (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
is-elite                    | Элитность (строго ограниченные значения — «да»/«нет», « true»/«false», «1»/«0», «+»/«-»).
parking                     | Наличие парковки (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
alarm                       | Наличие охраны/сигнализации (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
ceiling-height              | Высота потолков.
`new` heating               | Отопление (строго ограниченные значения - газовый котел, паровое, печное, центральное отопление, электрическое).
`new` stove                 | Плита (строго ограниченные значения - «газовая», «электрическая»).
`new` gas                   | Подключение к газовым сетям (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` sewerage              | Канализация (строго ограниченные значения — «септик» или «центральная»).

## Описание загородной недвижимости

Элементы                          | Описание
--------------------------------- | ------------------ 
pmg	                              | Возможность ПМЖ (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` house-type                  | Тип строения (строго ограниченные значения - дом, таунхаус, дуплекс, ЖАКТ)
`new` floors-total                | Общее количество этажей в доме.
`new` rooms*                      | Общее количество комнат в доме.
toilet                            | Туалет. Расположение (возможные значения — «в доме», «на улице»).
shower	                          | Душ/ванная. Расположение (возможные значения — «в доме», «на улице»).
kitchen                           | Наличие кухни (строго ограниченные значения — «да»/«нет», «true»/ «false», «1»/«0», «+»/«-»).
pool                              | Наличие бассейна (строго ограниченные значения — «да»/«нет», «true»/ «false», «1»/«0», «+»/«-»).
billiard                          | Наличие бильярда (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
sauna                             | Наличие сауны/бани (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` heating                     | Отопление (строго ограниченные значения - газовый котел, паровое, печное, центральное отопление, электрическое).
`new` water                       | Наличие водопровода (рекомендуемые значения - колодец, магистраль, на участке, рядом, скважина).
`new` sewerage                    | Канализация (строго ограниченные значения — септик, центральная).
`new` electricity                 | Электроснабжение (рекомендуемые значения -  подключено, по меже, на расстоянии менее 100 м., на расстоянии более 100 м.).
`new` gas                         | Подключение к газовым сетям рекомендуемые значения -  подключен, по меже, на расстоянии менее 100 м., на расстоянии более 100 м.).
`new` ceiling-height              | Высота потолков.
`new` built-year                  | Год постройки.
`new` basement                    | Подвал (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` building-type               | Тип дома (рекомендуемые значения — «кирпичный», «монолит», «панельный»).
`new` building-walls              | Отделка наружных стен (рекомендуемые значения - алюкобонд, белый кирпич, вентилируемый фасад "Краспан", дагестанский камень, желтый кирпич, керамогранит, Короед, красный кирпич, розовый кирпич, сайдинг, фасадная плитка, штукатурка декоративная, штукатурка обычная, шуба).
`new` unfinished                  | Если здание недостроено (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` phone                       | Наличие телефона (строго ограниченные значения — «да»/ «нет», «true»/ «false», «1»/ «0», «+»/ «-»).
`new` internet                    | Наличие интернета (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` room-furniture              | Наличие мебели (строго ограниченные значения — «да»/ «нет», «true»/«false», «1»/ «0», «+»/«-»).
`new` kitchen-furniture           | Наличие мебели на кухне (строго ограниченные значения — «да»/«нет», « true»/«false», «1»/«0», «+»/«-»).
`new` television                  | Наличие телевизора (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/ «-»).
`new` washing-machine             | Наличие стиральной машины (строго ограниченные значения — «да»/«нет», « true»/ «false», «1»/ «0», «+»/ «-»).
`new` refrigerator                | Наличие холодильника (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` floor-covering              | Покрытие пола (рекомендуемые значения — «паркет», «ламинат», «ковролин», «линолеум», прочий).
`new` stove                       | Плита (строго ограниченные значения - «газовая», «электрическая»).
`new` garage                      | Наличие гаража (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` parking                     | Наличие парковки около дома (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).
`new` alarm                       | Наличие охраны/сигнализации (строго ограниченные значения — «да»/«нет», «true»/«false», «1»/«0», «+»/«-»).

## Описание земельного участка 
...

## Описание дачи
...

## Описание гаража
...

## Описание коммерческой недвижимости
...
